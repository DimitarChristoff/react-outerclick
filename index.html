<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-dark.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <title>React-outerclick by DimitarChristoff</title>
  </head>

  <body>

    <header>
      <div class="container">
        <h1>React-outerclick</h1>
        <h2>HOC wrapper for react components to handle outside clicks with a frugal document event strategy</h2>

        <section id="downloads">
          <a href="https://github.com/DimitarChristoff/react-outerclick/zipball/master" class="btn">Download as .zip</a>
          <a href="https://github.com/DimitarChristoff/react-outerclick/tarball/master" class="btn">Download as .tar.gz</a>
          <a href="https://github.com/DimitarChristoff/react-outerclick" class="btn btn-github"><span class="icon"></span>View on GitHub</a>
        </section>
      </div>
    </header>

    <div class="container">
      <section id="main_content">
        <h1>
<a id="react-outerclick" class="anchor" href="#react-outerclick" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>react-outerclick</h1>

<p>HOC wrapper with frugal document event strategy</p>

<p>Get a callback when a click happens outside of your component. If your React class implements <code>handleOuterClick</code>, it will get called when a click outside of the root node for your element takes place.</p>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Installation</h2>

<div class="highlight highlight-source-shell"><pre>npm i react-outerclick</pre></div>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Usage</h2>

<p>As a HOC, you can use the ES7 decorator style:</p>

<div class="highlight highlight-source-js"><pre><span class="pl-k">import</span> <span class="pl-smi">React</span> <span class="pl-k">from</span> <span class="pl-s"><span class="pl-pds">'</span>react<span class="pl-pds">'</span></span>;
<span class="pl-k">import</span> <span class="pl-smi">outerClick</span> <span class="pl-k">from</span> <span class="pl-s"><span class="pl-pds">'</span>react-outerclick<span class="pl-pds">'</span></span>;

@outerClick
<span class="pl-k">class</span> <span class="pl-en">Foo</span> <span class="pl-k">extends</span> <span class="pl-e">React</span>.<span class="pl-smi">Component</span> {

  state <span class="pl-k">=</span> {
    opened<span class="pl-k">:</span> <span class="pl-c1">true</span>  
  };

  <span class="pl-en">handleOuterClick</span>(<span class="pl-c1">event</span>){
    <span class="pl-v">this</span>.<span class="pl-en">setState</span>({
        opened<span class="pl-k">:</span> <span class="pl-c1">false</span>
    });
  }

  <span class="pl-en">render</span>(){
    <span class="pl-k">return</span> <span class="pl-k">&lt;</span>div<span class="pl-k">&gt;</span><span class="pl-smi">Foo</span>. <span class="pl-smi">Click</span> elsewhere<span class="pl-k">&lt;</span><span class="pl-k">/</span>div<span class="pl-k">&gt;</span>;
  }
}

<span class="pl-k">export</span> <span class="pl-v">default</span> <span class="pl-smi">Foo</span>;</pre></div>

<p>Alternatively, without <code>stage-0</code> and <code>babel-plugin-transform-decorators-legacy</code>, this looks like so:</p>

<div class="highlight highlight-source-js"><pre><span class="pl-k">import</span> <span class="pl-smi">React</span> <span class="pl-k">from</span> <span class="pl-s"><span class="pl-pds">'</span>react<span class="pl-pds">'</span></span>;
<span class="pl-k">import</span> <span class="pl-smi">outerClick</span> <span class="pl-k">from</span> <span class="pl-s"><span class="pl-pds">'</span>react-outerclick<span class="pl-pds">'</span></span>;

<span class="pl-k">class</span> <span class="pl-en">Foo</span> <span class="pl-k">extends</span> <span class="pl-e">React</span>.<span class="pl-smi">Component</span> {

  <span class="pl-en">constructor</span>(<span class="pl-smi">props</span>){ 
    <span class="pl-v">super</span>(props);
    <span class="pl-v">this</span>.<span class="pl-smi">state</span> <span class="pl-k">=</span> {
        opened<span class="pl-k">:</span> <span class="pl-c1">true</span>  
    };
  }

  <span class="pl-en">handleOuterClick</span>(<span class="pl-c1">event</span>){
    <span class="pl-v">this</span>.<span class="pl-en">setState</span>({
        opened<span class="pl-k">:</span> <span class="pl-c1">false</span>
    });
  }

  <span class="pl-en">render</span>(){
    <span class="pl-k">return</span> <span class="pl-k">&lt;</span>div<span class="pl-k">&gt;</span><span class="pl-smi">Foo</span>. <span class="pl-smi">Click</span> elsewhere<span class="pl-k">&lt;</span><span class="pl-k">/</span>div<span class="pl-k">&gt;</span>;
  }
}

<span class="pl-c">// decorate here:</span>
<span class="pl-k">export</span> <span class="pl-v">default</span> <span class="pl-smi">outerClick</span>(Foo);</pre></div>

<h2>
<a id="why" class="anchor" href="#why" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Why?</h2>

<p>Because: </p>

<ul>
<li>need to be able to do this with a low footprint - so a single document event handler for all elements that need it.</li>
<li>gets <code>element.ownerDocument</code> correctly so can work in popups/tearoffs, unlike other implementations </li>
</ul>

<h2>
<a id="limitations" class="anchor" href="#limitations" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Limitations</h2>

<p>Hot Module Reloading (react-hmre, react-hot-loader etc) any component that has an outerClick handler will cause the outer click functionality to fail as it's not going to find the old component instance and there is no lifecycle method that is available to refresh the event subscriptions.</p>

<h2>
<a id="found-an-issue-or-want-to-contribute" class="anchor" href="#found-an-issue-or-want-to-contribute" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Found an issue, or want to contribute?</h2>

<p>If you find an issue, want to start a discussion on something related to this project, or have suggestions on how to improve it? Please <a href="../../issues/new">create an issue</a>!</p>

<p>See an error and want to fix it? Want to add a file or otherwise make some changes? All contributions are welcome!</p>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>License</h2>

<p>MIT</p>
      </section>
    </div>

    
  </body>
</html>
